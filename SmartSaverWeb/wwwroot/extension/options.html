<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Paynles Options</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 16px; max-width: 640px; }
      label { display: block; margin-top: 12px; font-weight: 600; }
      input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 8px; }
      .row { margin: 12px 0; }
      button { padding: 8px 12px; border: 0; border-radius: 8px; cursor: pointer; }
    </style>
  </head>
  <body>
    <h1>Paynles Options</h1>
    <div class="row">
      <label>API Base URL</label>
      <input id="apiBase" placeholder="https://paynles.com" />
    </div>
    <div class="row">
      <label>Auth Token (optional)</label>
      <input id="authToken" placeholder="Bearer xxxxx" />
    </div>
    <div class="row">
      <button id="save">Save</button>
    </div>
    <script>
      const apiBase = document.getElementById('apiBase');
      const authToken = document.getElementById('authToken');
      const saveBtn = document.getElementById('save');

      chrome.storage.sync.get(['apiBase','authToken'], (res) => {
        apiBase.value = res.apiBase || 'https://paynles.com';
        authToken.value = res.authToken || '';
      });

      saveBtn.addEventListener('click', () => {
        chrome.storage.sync.set({ apiBase: apiBase.value, authToken: authToken.value }, () => {
          alert('Saved');
        });
      });
    </script>
  </body>
</html>